<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>网络 on 电子荒原</title>
    <link>http://localhost:1313/tags/%E7%BD%91%E7%BB%9C/</link>
    <description>Recent content in 网络 on 电子荒原</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>&amp;copy;召唤兽，&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
    <lastBuildDate>Thu, 15 Dec 2022 22:47:11 +0800</lastBuildDate>
    
	<atom:link href="http://localhost:1313/tags/%E7%BD%91%E7%BB%9C/feed.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>下载装小蜜监理拍摄的图片</title>
      <link>http://localhost:1313/2022/12/15/zhuangxiaomi-download-images/</link>
      <pubDate>Thu, 15 Dec 2022 22:47:11 +0800</pubDate>
      
      <guid>http://localhost:1313/2022/12/15/zhuangxiaomi-download-images/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;最近，我家的装修终于告一段落，历时6个月，经验大概可以水三四篇博文——如果博主的拖延症能治好的话。今天先从最简单的部分开始。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;装小蜜是北京地区比较流行的监理服务，价格比起正规监理（有监理证的那种）要便宜许多，在装修过程中应该也是有作用的。每次上门服务时，监理会在每个房间拍一张全景照片，如果工长不提供水电位置图的话，之后这些照片应该能派上用场。&lt;/p&gt;
&lt;p&gt;像所有Web2.0之后的公司一样，这家公司主要在APP和微信小程序上提供服务，而且并不具备数据导出功能。这种情况的一般解决方案是抓包，只要配置好xposed、HTTPCanary，解决TLS证书固定之类的问题就行了，我一开始就是这么做的，之后发现了别的方法：只要屏蔽一个特定域名（zxm-oss3.oss-cn-beijing.aliyuncs.com），微信小程序上就会显示图片的实际位置。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;url.png&#34; alt=&#34;图像实际存放地址&#34;&gt;&lt;/p&gt;
&lt;p&gt;具体上，按照这里&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;的思路，我也使用Clash For Windows，把所有来自阿里云的请求屏蔽掉。然后在微信电脑版上打开小程序，就可以得到上图。之后，直接用鼠标把链接拖动到TXT里面，就可以用你最喜欢的工具下载了。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;proxies&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;- &lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Fiddler&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;type&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;http&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;server&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;127.0.0.1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;port&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;8888&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;proxy-groups&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;- &lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Proxy&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;proxies&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;- Fiddler&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;type&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;select&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#309;font-weight:bold&#34;&gt;rules&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;- DOMAIN-KEYWORD,aliyuncs.com,REJECT&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;- PROCESS-NAME,Fiddler.exe,DIRECT&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;- MATCH,DIRECT&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;另外，小程序是用&lt;a href=&#34;https://pannellum.org/documentation/overview/&#34;&gt;Pannellum&lt;/a&gt;进行渲染的。下载到的照片可以用&lt;a href=&#34;https://renderstuff.com/tools/360-panorama-web-viewer/&#34;&gt;这个网站&lt;/a&gt;查看。好像和直接用小程序没有什么区别……&lt;/p&gt;
&lt;h2 id=&#34;附微信小程序缓存位置&#34;&gt;附：微信小程序缓存位置&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;C:\Users\me\AppData\Roaming\Tencent\WeChat\radium\web&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我是用&lt;a href=&#34;https://learn.microsoft.com/en-us/sysinternals/downloads/procmon&#34;&gt;Process Monitor&lt;/a&gt;监测文件变化发现这个路径的。&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/564786074&#34;&gt;Windows 微信小程序无法抓包解决办法 - 知乎&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>利用kcpraw流量加速</title>
      <link>http://localhost:1313/2017/11/18/2017-11-18-kcpraw-speed-up/</link>
      <pubDate>Sat, 18 Nov 2017 16:36:55 +0800</pubDate>
      
      <guid>http://localhost:1313/2017/11/18/2017-11-18-kcpraw-speed-up/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://localhost:1313/2015/01/07/shadowsocks%EF%BC%8Cipv6%E5%92%8C%E4%BE%BF%E5%AE%9C%E7%9A%84vps/&#34;&gt;2015年&lt;/a&gt;和&lt;a href=&#34;http://localhost:1313/2016/10/25/shadowsocks-2016-%E4%B8%80%E6%AC%A1%E6%80%A7%E8%AE%A4%E8%AF%81%EF%BC%8Ckcp%E5%8F%8A%E5%85%B6%E4%BB%96/&#34;&gt;2016年&lt;/a&gt;，我写过两篇关于 &lt;em&gt;科学上网&lt;/em&gt; 的博客，之后，又在VPS上安装了&lt;a href=&#34;https://v2ray.com/&#34;&gt;v2ray&lt;/a&gt;，这个应用直接支持mKCP，在丢包严重的网络环境下效果不错。&lt;/p&gt;
&lt;p&gt;然后是最近，为了贯彻**大精神，实现什么什么自信的目标，KCP依赖的udp包被自信的家伙们无情地屏蔽了。在标准的shadowsocks和使用websocket的v2ray下，网速在50k左右，我感觉自己的网瘾又要发作了——&lt;/p&gt;
&lt;p&gt;以上是背景。&lt;/p&gt;
&lt;p&gt;虽然UDP被屏蔽了，但是TCP暂时还幸免于难，所以，可以把UDP包伪装成TCP的样子来绕过检查。有两个程序可以实现这种功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/wangyu-/udp2raw-tunnel&#34;&gt;udp2raw&lt;/a&gt;，可以将所有UDP包整容成TCP的样子，不过这个程序在Windows下有些问题，而且最近Firefox的一堆破事让我不太想用Linux了；&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/ccsexyz/kcpraw&#34;&gt;kcpraw&lt;/a&gt;，是原始kcptun的fork，和kcptun的用法类似，在Windows下只需要安装&lt;a href=&#34;https://www.winpcap.org/install/default.htm&#34;&gt;winpcap&lt;/a&gt;就可以用。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在这里使用kcpraw包装原来shadowsocks的流量（纯粹是因为virtualbox没配好用不了udp2raw），假设读者有基本的linux知识并已经部署了shadowsocks。&lt;/p&gt;
&lt;h2 id=&#34;服务器端&#34;&gt;服务器端&lt;/h2&gt;
&lt;h3 id=&#34;下载kcpraw&#34;&gt;下载kcpraw&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir &lt;span style=&#34;color:#555&#34;&gt;~/&lt;/span&gt;kcpraw
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd &lt;span style=&#34;color:#555&#34;&gt;~/&lt;/span&gt;kcpraw
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https:&lt;span style=&#34;color:#555&#34;&gt;//&lt;/span&gt;github&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;com&lt;span style=&#34;color:#555&#34;&gt;/&lt;/span&gt;ccsexyz&lt;span style=&#34;color:#555&#34;&gt;/&lt;/span&gt;kcpraw&lt;span style=&#34;color:#555&#34;&gt;/&lt;/span&gt;releases&lt;span style=&#34;color:#555&#34;&gt;/&lt;/span&gt;download&lt;span style=&#34;color:#555&#34;&gt;/&lt;/span&gt;v20171019&lt;span style=&#34;color:#555&#34;&gt;/&lt;/span&gt;kcpraw&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;linux&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;amd64&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;20171021.&lt;/span&gt;tar&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;gz
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar zxvf kcpraw&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;linux&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;amd64&lt;span style=&#34;color:#555&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#f60&#34;&gt;20171021.&lt;/span&gt;tar&lt;span style=&#34;color:#555&#34;&gt;.&lt;/span&gt;gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;在后台开启kcpraw&#34;&gt;在后台开启kcpraw&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; sudo -b nohup ~/kcpraw/kcpraw_server_linux_amd64  -t &amp;#34;127.0.0.1:443&amp;#34; -l &amp;#34;:8388&amp;#34; -mode fast2 &amp;amp;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中，&lt;code&gt;443&lt;/code&gt;是要包装的shadowsocks端口，同时，&lt;code&gt;8388&lt;/code&gt;是kcpraw使用的端口，请保证服务器防火墙允许&lt;code&gt;8388&lt;/code&gt;端口通过。&lt;/p&gt;
&lt;h2 id=&#34;客户端&#34;&gt;客户端&lt;/h2&gt;
&lt;h3 id=&#34;安装winpcap如果客户端是windows的话&#34;&gt;安装winpcap（如果客户端是Windows的话）&lt;/h3&gt;
&lt;p&gt;对于最新版本的Windows10，原版的&lt;code&gt;winpcap&lt;/code&gt;和&lt;code&gt;win10pcap&lt;/code&gt;似乎都不能用，可以使用兼容的&lt;a href=&#34;https://github.com/nmap/npcap&#34;&gt;npcap&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&#34;运行kcpraw&#34;&gt;运行kcpraw&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kcpraw_client_windows_amd64 -r &amp;#34;&amp;lt;服务器IP&amp;gt;:8388&amp;#34; -l &amp;#34;:1082&amp;#34; -mode fast2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中&lt;code&gt;1082&lt;/code&gt;是设定的本地kcpraw端口。&lt;/p&gt;
&lt;h3 id=&#34;修改shadowsocks客户端配置&#34;&gt;修改shadowsocks客户端配置&lt;/h3&gt;
&lt;p&gt;在你使用的客户端中把服务器地址设为&lt;code&gt;localhost:1082&lt;/code&gt;，其余不变，即可使shadowsocks享受KCP加速。&lt;/p&gt;
&lt;p&gt;天气越来越冷，似乎离互联网白名单也越来越近了。到那时，我可能会换一个爱好，比如做一个伟大的白日梦什么的。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>