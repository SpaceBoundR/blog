<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Ext4 on 电子荒原</title>
    <link>http://localhost:1313/tags/ext4/</link>
    <description>Recent content in Ext4 on 电子荒原</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>&amp;copy;召唤兽，&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
    <lastBuildDate>Sat, 02 Mar 2019 23:19:02 +0800</lastBuildDate>
    
	<atom:link href="http://localhost:1313/tags/ext4/feed.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>震惊！为了在Windows上访问EXT4分区，他竟然做出了这样的事！</title>
      <link>http://localhost:1313/2019/03/02/hard-way-for-ext4-on-windows/</link>
      <pubDate>Sat, 02 Mar 2019 23:19:02 +0800</pubDate>
      
      <guid>http://localhost:1313/2019/03/02/hard-way-for-ext4-on-windows/</guid>
      <description>&lt;p&gt;呃……原谅这次的标题党，但我觉得这次自己的操作实在是太蠢了。&lt;/p&gt;
&lt;p&gt;事情是这样的，作为一个半吊子，我的电脑上同时有Windows 10和Manjaro Linux两个操作系统，也就有了从Windows上访问Ext4分区的要求。大约在一年之前，这个要求可以用&lt;a href=&#34;https://www.ext2fsd.com/&#34;&gt;Ext2fsd&lt;/a&gt;来满足，可是一年过去，它已经无法识别新的Ext4版本了。&lt;/p&gt;
&lt;p&gt;于是，我……我做了一个linux虚拟机来帮我读这个分区。&lt;/p&gt;
&lt;p&gt;具体来说，VirtualBox支持将单独的分区视为虚拟磁盘&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。你需要在 &lt;strong&gt;具有管理员权限&lt;/strong&gt; 的命令提示符中运行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;VBoxManage internalcommands createrawvmdk -filename &amp;#34;C:\Users\&amp;lt;user_name&amp;gt;\VirtualBox VMs\&amp;lt;VM_folder_name&amp;gt;\&amp;lt;file_name&amp;gt;.vmdk&amp;#34; -rawdisk \\.\PhysicalDrive0 -partitions 1,5 -relative
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这个程序大概在VirtualBox的安装目录下，磁盘号和windows的“磁盘管理”程序一致，分区号可以用下面的命令获得。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;VBoxManage internalcommands listpartitions -rawdisk \\.\PhysicalDrive0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;之后，&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;同样是用 &lt;strong&gt;管理员权限&lt;/strong&gt; 运行VirtualBox&lt;/li&gt;
&lt;li&gt;把网卡模式改为桥接&lt;/li&gt;
&lt;li&gt;挂载刚才生成的VMDK文件&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;在另一个虚拟磁盘上&lt;/strong&gt; 安装Linux（这里我用的是Alpine Linux Extended）&lt;/li&gt;
&lt;li&gt;设置Samba&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;就可以在宿主机上用网络硬盘访问Ext4分区了。&lt;/p&gt;
&lt;p&gt;而且能够收获一次反思：我为什么要浪费宝贵的时间干这个？&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.virtualbox.org/manual/ch09.html#rawdisk&#34;&gt;https://www.virtualbox.org/manual/ch09.html#rawdisk&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.serverwatch.com/server-tutorials/using-a-physical-hard-drive-with-a-virtualbox-vm.html&#34;&gt;https://www.serverwatch.com/server-tutorials/using-a-physical-hard-drive-with-a-virtualbox-vm.html&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://wiki.alpinelinux.org/wiki/Setting_up_a_samba-server&#34;&gt;https://wiki.alpinelinux.org/wiki/Setting_up_a_samba-server&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>