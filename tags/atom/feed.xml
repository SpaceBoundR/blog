<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Atom on 电子荒原</title>
    <link>http://localhost:1313/tags/atom/</link>
    <description>Recent content in Atom on 电子荒原</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>&amp;copy;召唤兽，&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
    <lastBuildDate>Wed, 06 Sep 2017 19:46:55 +0800</lastBuildDate>
    
	<atom:link href="http://localhost:1313/tags/atom/feed.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>关于那个IME helper</title>
      <link>http://localhost:1313/2017/09/06/gossip_about_ime_helper/</link>
      <pubDate>Wed, 06 Sep 2017 19:46:55 +0800</pubDate>
      
      <guid>http://localhost:1313/2017/09/06/gossip_about_ime_helper/</guid>
      <description>&lt;p&gt;&lt;del&gt;昨天&lt;/del&gt;前天我用鸟语写了一篇贼 &lt;em&gt;正经&lt;/em&gt; 的&lt;a href=&#34;http://localhost:1313/2017/09/05/atom-vim-mode-auto-switch-ime/&#34;&gt;说明&lt;/a&gt;，今天，我准备稍微介绍一下那里面的&lt;code&gt;IME helper&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;正如之前所说，那东西是为了配合atom插件自动开关输入法用的。问题明确、思路清晰，google一下肯定有人做过……才怪呢&lt;/p&gt;
&lt;p&gt;嗯，这种需求，我听过一个叫AHK的语言……&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;;来自https://github.com/lspcieee/lspcieee_ahk/blob/master/IME.ahk
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;;没有任何要黑别人的意思，将来报道出了偏差，你们（下略）
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;setChineseLayout(){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	;发送中文输入法切换快捷键，请根据实际情况设置。
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	send {Ctrl Down}{Shift}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	send {Ctrl Down},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	send {Ctrl Down}{Shift}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	send {Ctrl Down},
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	send {Ctrl Up}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;哇这语言真的是发送快捷键的哦！就没有什么更高级的方法吗？快捷键在win10里可是改了啊( &amp;gt;﹏&amp;lt;。)&lt;/p&gt;
&lt;p&gt;然后就愉快地决定用 Python+ctypes 干这种脏活了，然后发现：windows API真是太难写了！一个更改输入法有4种写法！而且都不能用！&lt;/p&gt;
&lt;p&gt;最后居然还是抄的&lt;a href=&#34;http://www.ahk8.com/thread-3751.html?highlight=%E8%BE%93%E5%85%A5%E6%B3%95&#34;&gt;AHK社区的东西&lt;/a&gt;……亏我还像白痴一样疯狂翻MSDN……&lt;/p&gt;
&lt;p&gt;另外，pyinstaller生成的单文件exe&lt;del&gt;跑得不够快&lt;/del&gt;用起来有延迟，大概是因为解压吧……&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Auto-Switch IME in Vim-Mode-Plus for Atom Editor</title>
      <link>http://localhost:1313/2017/09/05/atom-vim-mode-auto-switch-ime/</link>
      <pubDate>Tue, 05 Sep 2017 21:03:41 +0800</pubDate>
      
      <guid>http://localhost:1313/2017/09/05/atom-vim-mode-auto-switch-ime/</guid>
      <description>&lt;p&gt;Update 2018-5: Now vim-mode-plus introduced &lt;a href=&#34;https://github.com/t9md/atom-vim-mode-plus/blob/master/CHANGELOG.md#1300&#34;&gt;new method&lt;/a&gt; to disable IME in the setting page. It&#39;s time for this post to retire.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;As a vim-user and Chinese-speaker, I prefer &lt;a href=&#34;https://atom.io/packages/vim-mode-plus&#34;&gt;vim-mode-plus&lt;/a&gt; for Atom editor, but always disrupted by the IME in normal mode, like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/IME-in-atom.png&#34; alt=&#34;IME-in-atom&#34;&gt;&lt;/p&gt;
&lt;p&gt;If we could &lt;a href=&#34;https://github.com/t9md/atom-vim-mode-plus/issues/446&#34;&gt;disable IMEs in normal mode&lt;/a&gt; then everything will be fine again. However, due to &lt;a href=&#34;https://github.com/atom/atom/issues/1092&#34;&gt;the lack of the APIs&lt;/a&gt;, it is hardly possible to solve the problem in the editor.&lt;/p&gt;
&lt;p&gt;Thus, we could solve it &lt;em&gt;out of the box&lt;/em&gt;. There is a package named &lt;a href=&#34;https://atom.io/packages/vim-mode-plus-auto-ime&#34;&gt;atom-vim-mode-plus-auto-ime&lt;/a&gt;, which could run a custom command when the mode changes. The goal now is to find some commands to control the IME:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;macOS users can use &lt;a href=&#34;https://github.com/vovkasm/input-source-switcher&#34;&gt;input-source-switcher&lt;/a&gt; to toogle the IME.&lt;/li&gt;
&lt;li&gt;For Linux, the IME &lt;code&gt;fcitx&lt;/code&gt; has a command &lt;code&gt;fcitx-remote&lt;/code&gt; to control itself.&lt;/li&gt;
&lt;li&gt;And for Windows, I wrote a &lt;a href=&#34;https://github.com/heyeshuang/ime_helper&#34;&gt;python script&lt;/a&gt; to switch the IME of the &lt;em&gt;foreground window&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Then we could configure this package.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#windows:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python E:&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;path&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;to&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;ime_helper.py --current &lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#Get Current Input Source&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python E:&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;path&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;to&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;ime_helper.py --dec &lt;span style=&#34;color:#a00&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#033&#34;&gt;source&lt;/span&gt;&lt;span style=&#34;color:#a00&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#insert&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python E:&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;path&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;to&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;ime_helper.py --locale en_US &lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#normal&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;python E:&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;path&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;to&lt;span style=&#34;color:#c30;font-weight:bold&#34;&gt;\\&lt;/span&gt;ime_helper.py --locale en_US &lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#visual&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#linux:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/usr/bin/fcitx-remote &lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#Get Current Input Source&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#555&#34;&gt;((&lt;/span&gt; &lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a00&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#033&#34;&gt;source&lt;/span&gt;&lt;span style=&#34;color:#a00&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;&lt;/span&gt; &amp;lt;&lt;span style=&#34;color:#555&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#c30&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#555&#34;&gt;))&lt;/span&gt;;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;then&lt;/span&gt; /usr/bin/fcitx-remote -c; &lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;else&lt;/span&gt; /usr/bin/fcitx-remote -o ;&lt;span style=&#34;color:#069;font-weight:bold&#34;&gt;fi&lt;/span&gt; &lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#insert&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/usr/bin/fcitx-remote -c &lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#normal&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/usr/bin/fcitx-remote -c &lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#visual&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#09f;font-style:italic&#34;&gt;#macOS: just use the default config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;http://localhost:1313/atom-vim-configure.png&#34; alt=&#34;configure&#34;&gt;&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>